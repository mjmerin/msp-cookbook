---
driver:
  name: vagrant

provisioner:
  product_name: chef
  product_version: 18.1
  chef_license: accept
  install_strategy: once
  max_retries: 3

verifier:
  name: inspec
  inspec_tests:
    - test/integration/default

platforms:
  - name: ubuntu18
    driver:
      box: bento/ubuntu-18.04
      box_url: https://vagrantcloud.com/bento/ubuntu-18.04
      box_check_update: true

  - name: ubuntu23-arm64
    driver:
      box: bento/ubuntu-23.04-arm64
      box_url: https://vagrantcloud.com/bento/ubuntu-23.04-arm64
      box_check_update: true

  - name: macos-high-sierra
    driver:
      box: vagrant-appunite/macos10.13.5
      box_url: https://vagrantcloud.com/vagrant-appunite/macos10.13.5
      box_check_update: true

  - name: macos-ventura-arm64
    driver: 
      box: zigaadam/macOS13.4.1-xcode14.3.1
      box_url: https://vagrantcloud.com/zigaadam/macOS13.4.1-xcode14.3.1
      box_check_update: true

suites:
  - name: msp
    provisioner:
      policyfile_path: ./Policyfile.rb
    verifier:
      controls:
        - directories
        - packages
        - dotfiles
        - gitconfig

